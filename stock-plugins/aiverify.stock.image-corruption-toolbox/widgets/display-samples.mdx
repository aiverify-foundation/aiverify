import React, { useEffect, useState } from 'react';

export const DisplayImages = ({ id, images, data, corruption_index, corruption_name }) => {
    let image_content = []
    let actual_content = []
    let preds_content = []
    let severity_labels = []
  
    //Displaying original image along with the perturbed images across the severity levels
    image_content.push(<th align="left" bgcolor = "F0F0F0" key={`${id}-img-header`}>Images</th>)
    images.map((img, index) => {
      image_content.push(<td key={`${id}-img-${index}`}><img src={img} width="100px" /></td>)
    })
  
    let results_array = data[corruption_index]["display_info"]
    severity_labels.push(<th align="left" bgcolor = "F0F0F0" key={`${id}-sev-header`}>Severity</th>)
    actual_content.push(<th align="left" bgcolor = "F0F0F0" key={`${id}-actual-header`}>Actual Class</th>)
    preds_content.push(<th align="left" bgcolor = "F0F0F0" key={`${id}-pred-header`}>Predictions</th>)
    for (let sev = 0; sev < 6; sev++) {
      severity_labels.push(<th key={`${id}-sev-${sev}`} bgcolor = "F0F0F0" align =  "center">{sev}</th>)
      actual_content.push(<td key={`${id}-class-${sev}`}>{results_array[`severity${sev}`][1]}</td>)
      preds_content.push(<td key={`${id}-pred-${sev}`}>{results_array[`severity${sev}`][2]}</td>)
    }
  
    return (
      <div>
        <h4><b>Sample Data after Perturbation with ({corruption_name})</b></h4>
        <table border = "1">
          <tr key={`${id}-row-sev`} align="center">{severity_labels}</tr>
          <tr key={`${id}-row-img`} align="center">{image_content}</tr>
          <tr key={`${id}-row-actual`} align="center">{actual_content}</tr>
          <tr key={`${id}-row-pred`} align="center">{preds_content}</tr>
        </table>
      </div>
  
    )

}
